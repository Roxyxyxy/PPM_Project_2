{% extends 'store/main.html' %} {% load static %} {% block content %}

<div class="checkout-container">
  <div class="checkout-form">
    <form>
      <div class="form-field">
        <h1 class="text-info">Checkout</h1>
        <input
          required
          class="form-control"
          type="text"
          name="name"
          placeholder="Nome"
        />
      </div>
      <div class="form-field">
        <input
          required
          class="form-control"
          type="email"
          name="email"
          placeholder="Email"
        />
      </div>
      <hr />
      <p class="section-title">Indirizzo di spedizione</p>
      <div class="form-field">
        <input
          class="form-control"
          type="text"
          name="address"
          placeholder="Indirizzo"
        />
      </div>
      <div class="form-field">
        <input
          class="form-control"
          type="text"
          name="city"
          placeholder="Città"
        />
      </div>
      <div class="form-field">
        <input
          class="form-control"
          type="text"
          name="state"
          placeholder="Provincia"
        />
      </div>
      <div class="form-field">
        <input
          class="form-control"
          type="text"
          name="zipcode"
          placeholder="CAP"
        />
      </div>
      <div class="form-field">
        <input
          class="form-control"
          type="text"
          name="country"
          placeholder="Nazione"
        />
      </div>
      <hr />
      <input class="btn btn-primary btn-lg" type="submit" value="Continua" />
    </form>
  </div>
  <div class="checkout-summary">
    <a class="continue-link" href="{% url 'cart' %}"
      >&#x2190; Torna al carrello</a
    >
    <hr />
    <h3 class="text-info">Riepilogo ordine</h3>
    <hr />
    {% for item in items %}
    <div class="cart-row order-summary-row">
      <div style="flex: 2">
        <img
          class="cart-img"
          src="{{ item.product.imageURL }}"
          style="
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
          "
        />
      </div>
      <div style="flex: 2"><p>{{ item.product.name }}</p></div>
      <div style="flex: 1"><p>€{{ item.product.price|floatformat:2 }}</p></div>
      <div style="flex: 1"><p>x{{ item.quantity }}</p></div>
    </div>
    {% endfor %}
    <div class="total">Totale articoli: {{ order.get_cart_items }}</div>
    <div class="total">Totale: €{{ order.get_cart_total|floatformat:2 }}</div>
  </div>
</div>

<script type="text/javascript">
	var shipping = '{{order.shipping}}'

	if (shipping == 'False'){
	 	document.getElementById('shipping-info').innerHTML = ''
	}
</script>

{% endblock content %}
